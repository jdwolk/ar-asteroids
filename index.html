<!--<script src="https://aframe.io/releases/0.6.0/aframe.min.js"></script>-->
<script src="https://aframe.io/releases/0.7.1/aframe.min.js"></script>
<script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
<body style='margin : 0px; overflow: hidden;'>
  <a-scene embedded arjs='sourceType: webcam; debugUIEnabled: false;'>

    <!--
    <a-marker type='pattern' url='./asteroid1.patt'>
      <a-box id="asteroid1" position='0 1 -2.5' material='color: red;'></a-box>
    </a-marker>
    <a-marker type='pattern' url='./asteroid2.patt'>
      <a-box id="asteroid2" position='0 1 -2.5' material='color: blue;'></a-box>
    </a-marker>
    -->

    <a-assets>
      <a-asset-item id="asteroid1-asset" src="./asteroid1/scene.gltf"></a-asset-item>
    </a-assets>

    <a-marker type='pattern' url='./asteroid1.patt'>
      <a-entity id="asteroid1" gltf-model="#asteroid1-asset" position="0 0 -2" scale="1 1 1" ></a-entity>
      <!--<a-entity id="asteroid1" gltf-model="#asteroid1-asset" position="0 -2 0" scale="0.0025 0.0025 0.0025" ></a-entity>-->
      <a-cylinder color="crimson" height="2" radius="0.01" position="0 0 -2.5" rotation="0 45 -45"></a-cylinder>
      <a-cylinder color="crimson" height="0.5" radius="0.01" position="0.75 0.68 -3" rotation="0 0 90"></a-cylinder>
      <a-entity text="value:4 VESTA; color:#FFFFFF; shader: msdf; font:https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/orbitron/Orbitron-Bold.json;" position="4.5 0.75 -3.4" rotation="-90 0 0" scale="8 8 8"></a-entity>
      <a-entity text="value:V-TYPE  |  525.4km; color:#FFFFFF; shader: msdf; font:https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/orbitron/Orbitron-Bold.json;" position="3 0.75 -3.1" rotation="-90 0 0" scale="5 5 5"></a-entity>
    </a-marker>

  </a-scene>

  <script>
    const asteroid1El = document.getElementById("asteroid1")
    let asteroid1 = { x: 0, y: 0, z: 0 }

    setInterval(() => {
      const newX = (asteroid1.x + 1) % 360
      const newY = (asteroid1.y + 3) % 360
      const newZ = (asteroid1.z + 2) % 360
      asteroid1.x = newX
      asteroid1.y = newY
      asteroid1.z = newZ
      asteroid1El.setAttribute('rotation', asteroid1)
    }, 100);
  </script>
</body>

<!--
<body style='margin : 0px; overflow: hidden;'>
  <a-scene embedded arjs='sourceType: webcam;'>
    <a-marker preset='custom' url='./asteroid1.patt'>
      <a-box position='0 0.5 0' material='color: red;'></a-box>
    </a-marker>
    <a-entity camera></a-entity>
  </a-scene>
</body>
-->
